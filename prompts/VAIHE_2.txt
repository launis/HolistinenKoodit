VAIHE 2: Analyytikko-Agentti (Todistuskartta)
Tiedosto: 2_todistuskartta.json

TypeScript


interface TodistusKartta extends BaseJSON {
  hypoteesit: Array<{
    id: string;                   // esim. "Väite-1"
    vaite_teksti: string;         // Käyttäjän väite reflektiosta
    loytyyko_todisteita: boolean;
  }>;
  rag_todisteet: Array<{
    viittaa_hypoteesiin_id: string;
    perusteet: string;            // Ote keskusteluhistoriasta tai "todiste_puuttuu"
    konteksti_segmentti: string;  // Tarkka sitaatti
    relevanssi_score: number;     // 1-10 arvio
  }>;
}
}
KÄSKE: Sinun TÄYTYY noudattaa seuraavaa operatiivista strategiaa (Luku 2.4.2):
1.  **Kaksivaiheinen RAG**: Suorita ensin laaja haku todistusaineistosta.
2.  **"Lost in the Middle" -mitigaatio**: Optimoi tulokset sijoittamalla kaikkein relevanteimmat todisteet kontekstin ALKUUN ja LOPPUUN (Liu, N. F. ym. 2024).
3.  **Raportointi**: Kirjaa tämä optimointistrategia ja siihen liittyvät riskit `metodologinen_loki` -kenttään.

KÄSKE: (Esimerkki oikeasta rakenteesta):
Sinun TÄYTYY noudattaa tätä rakennetta (huomaa tarkat avaimet!):
{
  "hypoteesit": [
    {
      "id": "Väite-1",
      "vaite_teksti": "...",
      "loytyyko_todisteita": true
    }
  ],
  "rag_todisteet": [
    {
      "viittaa_hypoteesiin_id": "Väite-1",
      "perusteet": "...",
      "konteksti_segmentti": "...",
      "relevanssi_score": 9
    }
  ],
  "metodologinen_loki": "...",
  "edellisen_vaiheen_validointi": "Vaiheen 1 data on validia ja ehyttä.",
  "semanttinen_tarkistussumma": "..."
}
ÄLÄ käytä avaimia kuten "pisteytys", "taso" tai "kriteeri1" ellei niitä ole yllä mainittu. Käytä vain yllä olevia.
